# 生产环境配置
# 复制此文件为 .env 并填入你的配置

# === 基础服务配置 ===
# 域名配置
DOMAIN_NAME=your-domain.com

# PostgreSQL数据库配置
POSTGRES_PASSWORD=your_secure_postgres_password_here

# Redis缓存配置
REDIS_PASSWORD=your_secure_redis_password_here

# Grafana管理员密码
GRAFANA_ADMIN_PASSWORD=your_secure_grafana_password_here

# === GitHub API配置 ===
# GitHub API访问令牌 (逗号分隔，建议配置10个以上)
GITHUB_TOKENS=ghp_token1,ghp_token2,ghp_token3,ghp_token4,ghp_token5

# === WARP代理配置 ===
# WARP+ 许可证密钥 (可选，提高代理质量)
WARP_LICENSE_KEY_1=your_warp_plus_license_1
WARP_LICENSE_KEY_2=your_warp_plus_license_2

# === 应用配置 ===
# Gemini模型配置
HAJIMI_CHECK_MODEL=gemini-2.5-flash

# 扫描配置 - 生产级别
SCANNER_SCAN_INTERVAL=15m
SCANNER_WORKER_COUNT=30
SCANNER_BATCH_SIZE=1000

# 仓库年龄过滤 (天数)
DATE_RANGE_DAYS=365

# 速率限制配置 - 激进模式
RATE_LIMIT_REQUESTS_PER_MINUTE=150
RATE_LIMIT_BURST_SIZE=75
RATE_LIMIT_ADAPTIVE_ENABLED=true

# 验证器配置
VALIDATOR_WORKER_COUNT=15
VALIDATOR_TIMEOUT=90s
VALIDATOR_BATCH_SIZE=50

# 日志级别
LOG_LEVEL=warn

# === 外部同步配置 ===
# Gemini Balancer同步
GEMINI_BALANCER_SYNC_ENABLED=true
GEMINI_BALANCER_URL=https://your-gemini-balancer.com
GEMINI_BALANCER_AUTH=your_gemini_balancer_password

# GPT Load Balancer同步
GPT_LOAD_SYNC_ENABLED=true
GPT_LOAD_URL=https://your-gpt-load.com
GPT_LOAD_AUTH=your_gpt_load_token
GPT_LOAD_GROUP_NAME=production,main,backup

# === SSL证书配置 ===
# 如果使用自签名证书，设置为true
SSL_SELF_SIGNED=false

# Let's Encrypt邮箱 (用于自动SSL证书)
LETSENCRYPT_EMAIL=your-email@domain.com

# === 备份配置 ===
# 数据库备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_ACCESS_KEY=your_s3_access_key
BACKUP_S3_SECRET_KEY=your_s3_secret_key

# === 监控配置 ===
# 告警配置
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
ALERT_EMAIL=admin@your-domain.com

# === 性能调优 ===
# 内存限制 (GB)
APP_MEMORY_LIMIT=4
DB_MEMORY_LIMIT=2
REDIS_MEMORY_LIMIT=1

# CPU限制 (核心数)
APP_CPU_LIMIT=4
DB_CPU_LIMIT=2

# === 安全配置 ===
# API访问密钥 (用于外部API调用)
API_SECRET_KEY=your_very_secure_api_secret_key_here

# JWT密钥 (用于Web界面认证)
JWT_SECRET_KEY=your_jwt_secret_key_for_web_auth

# Web界面用户配置
WEB_ADMIN_USERNAME=admin
WEB_ADMIN_PASSWORD=your_secure_web_password

# === 高级配置 ===
# 数据库连接池配置
DB_MAX_OPEN_CONNECTIONS=100
DB_MAX_IDLE_CONNECTIONS=20
DB_CONNECTION_MAX_LIFETIME=2h

# Redis连接池配置
REDIS_MAX_IDLE=20
REDIS_MAX_ACTIVE=200
REDIS_IDLE_TIMEOUT=300s

# 网络超时配置
HTTP_CLIENT_TIMEOUT=60s
API_TIMEOUT=120s

# 缓存配置
CACHE_TTL_SCAN_RESULTS=1h
CACHE_TTL_GITHUB_CONTENT=30m
CACHE_TTL_VALIDATION_RESULTS=24h